<html>
<head>
    <title>dev Tunes</title>
    <link rel="stylesheet" type="text/css" href="assets/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
    <div id="mainContainer">
        <div id="topContainer">
            
            <div id="navBarContainer">
                <nav class="navBar">

                    <span role="link" tabindex="0" onclick="openPage('index.html')" class="logo">
                        <img src="assets/images/icons/logo.png">
                        dev Tunes
                    </span>

                    <div class="group">
                        <div class="navItem">
                            <span class="navItemLink">
                                Search
                                <img src="assets/images/icons/search.png" class="icon" alt="search">
                            </span>
                        </div>
                    </div>

                    <div class="group">
                        <div class="navItem">
                            <span role="link" tabindex="0" onclick="openPage('')" class="navItemLink">Browse</span>
                        </div>
                        <div class="navItem">
                            <span role="link" tabindex="0" onclick="openPage('')" class="navItemLink">Your Tunes</span>
                        </div>
                        <div class="navItem">
                            <span role="link" tabindex="0" onclick="openPage('')" class="navItemLink">Profile</span>
                        </div>
                    </div>
                </nav>
            </div>

            <div id="mainViewContainer">
                <div id="mainContent">
                    <h1>main content</h1>
                </div>
            </div>
        </div>

        <div id="nowPlayingBarContainer">
            <div id="nowPlayingBar">
                
                <div id="nowPlayingLeft">
                    <div class="content">
                        <span class="albumLink">
                            <img role="link" tabindex="0" src="assets/images/artwork/album1.jpg" class="albumArtwork">
                        </span>

                        <div class="trackInfo">
                            <span class="trackName">
                                <span role="link" tabindex="0">track Placeholder</span>
                            </span>
                            <span class="artistName">
                                <span role="link" tabindex="0">artist Placeholder</span>
                            </span>
                        </div>
                    </div>
                </div>

                <div id="nowPlayingCenter">
                    <div class="content playerControls">

                        <div class="buttons">
                            <button class="controlButton shuffle" title="Shuffle button" onclick="setSong()"> 
                                <img src="assets/images/icons/shuffle.png" alt="Shuffle">
                            </button>
                            <button class="controlButton previous" title="Previous button" onclick="prevSong()">
                                <img src="assets/images/icons/previous.png" alt="Previous">
                            </button>
                            <button class="controlButton play" title="Play button" onclick="playSong()">
                                <img src="assets/images/icons/play.png" alt="Play">
                            </button>
                            <button class="controlButton pause" title="Pause button" onclick="pauseSong()">
                                <img src="assets/images/icons/pause.png" alt="Pause">
                            </button>
                            <button class="controlButton next" title="Next button" onclick="nextSong()">
                                <img src="assets/images/icons/next.png" alt="Next">
                            </button>
                            <button class="controlButton repeat" title="Repeat button" onclick="setRepeat()">
                                <img src="assets/images/icons/repeat.png" alt="Repeat">
                            </button>
                        </div>

                        <div class="playbackBar">

                            <span class="progressTime current">0.00</span>
                            <div class="progressBar">
                                <div class="progressBarBg">
                                    <div class="progress"></div>
                                </div>
                            </div>
                            <span class="progressTime remaining">0.00</span>
                        </div>
                    </div>
                </div>

                <div id="nowPlayingRight">

                    <div class="volumeBar">
                        <button class="controlButton volume" title="Volume button">
                            <img src="assets/images/icons/volume.png" alt="Volume">
                        </button>
                        <div class="progressBar">
                            <div class="progressBarBg">
                                <div class="progress"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

<audio src="" id="currentSong"></audio>
<script>
    let songDB = ["test_audio.mp3", "test_audio2.mp3", "test_audio3.mp3"];
    let currentPlaylist = [];
    let shufflePlaylist = [];
    let tempPlaylist = [];
    let currentIndex = 0;
    let audioElement = document.getElementById("currentSong");
    let repeat = false;
    let shuffle = false;

    function getSong() {
        let songQuery = songDB[Math.floor(Math.random() * songDB.length)];
        audioElement.src = "assets/music/" + songQuery;
        let trackName = document.querySelector(".trackName span");
        trackName.textContent = songQuery;
    }

    function playSong() {
        getSong();
        audioElement.play();
    }
    function pauseSong() {
        audioElement.pause();
    }
    function nextSong() {
        //setTrack
    }
    function prevSong() {
        //setTrack
    }
    function setTrack(trackId, newPlaylist, play) {
        if(newPlaylist != currentPlaylist) {
            currentPlaylist = newPlaylist;
        }
        currentIndex = currentPlaylist.indexOf(trackId);
        if(play) {
            playSong();
        }
    }
    function playFirstSong() {
        setTrack(tempPlaylist[0], tempPlaylist, true);
    }
</script>


</body>
</html>